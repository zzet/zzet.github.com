<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=light data-auto-appearance=true><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#FFFFFF"><title>About Undev Gitlab fork &#183; Andrey Kumanyaev</title><meta name=title content="About Undev Gitlab fork &#183; Andrey Kumanyaev"><script type=text/javascript src=https://zzet.org/js/appearance.min.8a082f81b27f3cb2ee528df0b0bdc39787034cf2cc34d4669fbc9977c929023c.js integrity="sha256-iggvgbJ/PLLuUo3wsL3Dl4cDTPLMNNRmn7yZd8kpAjw="></script><link type=text/css rel=stylesheet href=https://zzet.org/css/main.bundle.min.100caa677b4bc416cdd884107b203b4869f9b413a19aa57d12069fb826f1abe9.css integrity="sha256-EAyqZ3tLxBbN2IQQeyA7SGn5tBOhmqV9EgafuCbxq+k="><meta name=description content="
      
        
      
    "><meta name=robots content="all"><link rel=canonical href=https://zzet.org/archive/2014-09-29-undev_gitlab_fork/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://zzet.org/archive/2014-09-29-undev_gitlab_fork/"><meta property="og:site_name" content="Andrey Kumanyaev"><meta property="og:title" content="About Undev Gitlab fork"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="archive"><meta property="article:published_time" content="2014-09-29T00:00:00+00:00"><meta property="article:modified_time" content="2014-09-29T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="About Undev Gitlab fork"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","articleSection":"","name":"About Undev Gitlab fork","headline":"About Undev Gitlab fork","inLanguage":"en","url":"https:\/\/zzet.org\/archive\/2014-09-29-undev_gitlab_fork\/","author":{"@type":"Person","name":"Andrey Kumanyaev"},"copyrightYear":"2014","dateCreated":"2014-09-29T00:00:00\u002b00:00","datePublished":"2014-09-29T00:00:00\u002b00:00","dateModified":"2014-09-29T00:00:00\u002b00:00","mainEntityOfPage":"true","wordCount":"2016"}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://zzet.org/","name":"","position":1},{"@type":"ListItem","item":"https://zzet.org/archive/","name":"","position":2},{"@type":"ListItem","name":"About Undev Gitlab Fork","position":3}]}</script><meta name=author content="Andrey Kumanyaev"><link href=https://github.com/zzet rel=me><link href=https://x.com/zzetorg rel=me><link href=https://www.reddit.com/user/zzet/ rel=me><link href=https://www.linkedin.com/in/andrey-kumanyaev/ rel=me><script async src="https://www.googletagmanager.com/gtag/js?id=G-VGXR3BQCTQ"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VGXR3BQCTQ")}</script></head><body class="m-auto flex h-screen max-w-7xl flex-col bg-neutral px-6 text-lg leading-7 text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"><div id=the-top class="absolute flex self-center"><a class="-translate-y-8 rounded-b-lg bg-primary-200 px-3 py-1 text-sm focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="pe-2 font-bold text-primary-600 dark:text-primary-400">&darr;</span>Skip to main content</a></div><header class="py-6 font-semibold text-neutral-900 dark:text-neutral sm:py-10 print:hidden"><nav class="flex items-start justify-between sm:items-center"><div class="flex flex-row items-center"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" rel=me href=/>Andrey Kumanyaev</a></div><ul class="flex list-none flex-col text-end sm:flex-row"><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"><a href=/about/ title=About><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">About</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"><a href=/posts/ title><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Blog</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"><a href=https://github.com/zzet title target=_blank><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"><a href=https://x.com/zzetorg title target=_blank><span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg></span></span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"></li></ul></nav></header><div class="relative flex grow flex-col"><main id=main-content class=grow><article><header class=max-w-prose><ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden"><li class="hidden inline"><a class="dark:underline-neutral-600 decoration-neutral-300 hover:underline" href=https://zzet.org/></a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="dark:underline-neutral-600 decoration-neutral-300 hover:underline" href=https://zzet.org/archive/>archive</a><span class="px-1 text-primary-500">/</span></li><li class="hidden inline"><a class="dark:underline-neutral-600 decoration-neutral-300 hover:underline" href=https://zzet.org/archive/2014-09-29-undev_gitlab_fork/>About Undev Gitlab fork</a><span class="px-1 text-primary-500">/</span></li></ol><h1 class="mb-8 mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">About Undev Gitlab fork</h1><div class="mb-10 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2014-09-29 00:00:00 +0000 UTC">29 September 2014</time><span class="px-2 text-primary-500">&#183;</span><span title="Reading time">10 mins</span><span class="px-2 text-primary-500">&#183;</span>
<span class=mb-[2px]><a href=https://github.com/zzet.github.com/content/archive/2014-09-29-undev_gitlab_fork.md class="text-lg hover:text-primary-500" rel="noopener noreferrer" target=_blank title="Edit content"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M490.3 40.4c21.9 21.87 21.9 57.33.0 79.2l-30 30.1-98-97.98 30.1-30.06C414.3-.2135 449.7-.2135 471.6 21.66L490.3 40.4zM172.4 241.7 339.7 74.34l98 97.96L270.3 339.6C264.2 345.8 256.7 350.4 248.4 353.2l-88.8 29.6C150.1 385.6 141.5 383.4 135 376.1 128.6 370.5 126.4 361 129.2 352.4l29.6-88.8C161.6 255.3 166.2 247.8 172.4 241.7v0zM192 63.1c17.7.0 32 15.23 32 32 0 18.6-14.3 32-32 32H96c-17.67.0-32 15.2-32 32V416c0 17.7 14.33 32 32 32H352c17.7.0 32-14.3 32-32V319.1c0-16.8 14.3-32 32-32s32 15.2 32 32V416c0 53-43 96-96 96H96c-53.02.0-96-43-96-96V159.1c0-53 42.98-96 96-96h96z"/></svg></span></a></span></div></div></header><section class="prose mt-0 flex max-w-full flex-col dark:prose-invert lg:flex-row"><div class="min-h-0 min-w-0 max-w-prose grow"><h2 id=about-article class="relative group">About article <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#about-article aria-label=Anchor>#</a></span></h2><p>I get a lot of mail with questions about our (<a href=http://undev.ru target=_blank rel=noreferrer>Undev</a>) <a href=https://github.com/Undev/gitlabhq target=_blank rel=noreferrer>Gitlab fork</a>.<figure><img src=https://camo.githubusercontent.com/66d74af59caab883bd6f82e5cefb63d0480a4db3e997b04f62aa5147656e13f8/68747470733a2f2f7261772e6769746875622e636f6d2f7a7a65742f6769746c616268712f6d61737465722f7075626c69632f756e6465765f6769746c61625f6c6f676f2e706e67 alt class="mx-auto my-0 rounded-md"></figure>And&mldr; I lazy to reply every times similar letters so mach as I decided to write article about it :) In this article I try to describe fork and them main features.</p><p>I do not planned wrote about features a lot of information. If you have some question or can&rsquo;t understand something - please write comments, I&rsquo;ll update article.</p><h2 id=start-gitorious class="relative group">Start. Gitorious. <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#start-gitorious aria-label=Anchor>#</a></span></h2><p>At September 2012 I was joined to Infrastructure projects in Undev. It was very interesting&mldr; but&mldr; old Gitorious, Rails 2, ruby 1.8.7ee&mldr; Shit. Ok. After some time of terrible work I started discussion with our manager about another system. We have a lot of plans (tickets), problems with Gitorious and support of them.</p><h2 id=gitlab class="relative group">Gitlab <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#gitlab aria-label=Anchor>#</a></span></h2><p>Challenge accepted and we started research. At November 2012 we had big (very big) table with comparison of difficult systems. After some testing Gitlab wined and&mldr;</p><p>No!!!&mldr; Gitlab do not had some important for us features&mldr;</p><p><figure><img src=http://i.imgur.com/kACvxT7.jpg alt class="mx-auto my-0 rounded-md"></figure></p><p>Okay. Let&rsquo;s go, Guys! We started new features.</p><ul><li>At first - postgresql support. Yes, I do not like MySQL :)</li><li>Migration script from Gitorious to Gitlab</li><li>Mail notifications</li><li>Teams support for permissions management</li><li>Snippets (but now we do not use this feature, because we prefer similar Wiki %) )</li><li>etc.</li></ul><p>At May 2013 we had good installation. But with some changes in architecture, about which I&rsquo;ll write later. We run Gitlab in production at May 2013.</p><h2 id=most-valuable-changes class="relative group">Most valuable Changes <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#most-valuable-changes aria-label=Anchor>#</a></span></h2><p>Below I describe most important features from our fork. Difference between our fork and official repository huge and we can not send all features to upstream because of different reason. Such example as very big changes diff with hard migration - for features, which will be useful for big company.</p><h3 id=teams-support class="relative group">Teams support <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#teams-support aria-label=Anchor>#</a></span></h3><p>In Gitlab 3 we do not had teams. Management of user access in a lot of projects was terrible work. If we want give for some user permissions to push to project - we must add user in project team directly. What about hundreds users and thousands projects? As result - we started <strong>Teams feature</strong>. First version of this feature was not beautiful, some times - hardcoded, and in Gitlab 6 this feature was replaced with Groups by Dmitry Zaporozhets. I agree with them - for little company and teams - Team feature is overhead. But we can not abandon Team feature and rewrite them. Now we support this feature in new implementation.</p><p>We make 3 level of user access to projects:</p><ul><li><p>Add user directly to project
User -> Project</p></li><li><p>Add user to group, in which located project
User -> Group -> Project</p></li><li><p>Add user in Team, which can be assigned to project directly, or to group of projects
User -> Team -> Project
User -> Team -> Group -> Project</p></li></ul><p>This schema very comfortable for our Managers, Project Masters/Owners ;)</p><h3 id=new-event-model class="relative group">New event model <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#new-event-model aria-label=Anchor>#</a></span></h3><p>Then we (with <a href=https://github.com/Andrew8xx8 target=_blank rel=noreferrer>Andrey Kulakov</a>) started <strong>mail notification</strong> feature, we selected event-based mail generation way. User can subscribe on base Entities: <strong>Project</strong>, <strong>Group</strong>, <strong>Team</strong>, <strong>User</strong>. After create Event on User action we create mail notifications, based on this Event, and async send them. More detailed I&rsquo;ll describe mail notification later. Now about events.</p><p>At beginning we had one huge problem. All events in Gitlab related to project. We had not events for Group or Team or another Entity. <strong>Only Project</strong>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#66d9ef>Event</span>(id:          integer,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>target_type</span>: string,  <span style=color:#75715e># Polymorth association with</span>
</span></span><span style=display:flex><span>      <span style=color:#e6db74>target_id</span>:   integer, <span style=color:#75715e># Entity, in which was event</span>
</span></span><span style=display:flex><span>	  <span style=color:#e6db74>data</span>:        text,    <span style=color:#75715e># Serialized event data</span>
</span></span><span style=display:flex><span>	  <span style=color:#e6db74>project_id</span>:  integer, <span style=color:#75715e># Only project ;,( It so sadly...</span>
</span></span><span style=display:flex><span>	  <span style=color:#e6db74>created_at</span>:  datetime,
</span></span><span style=display:flex><span>	  <span style=color:#e6db74>action</span>:      integer, <span style=color:#75715e># Action number.</span>
</span></span><span style=display:flex><span>	  <span style=color:#e6db74>author_id</span>:   integer)
</span></span></code></pre></div><p>And all events described with 9 action constant:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-ruby data-lang=ruby><span style=display:flex><span>  <span style=color:#66d9ef>CREATED</span>   <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>UPDATED</span>   <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>CLOSED</span>    <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>REOPENED</span>  <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>PUSHED</span>    <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>COMMENTED</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>6</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>MERGED</span>    <span style=color:#f92672>=</span> <span style=color:#ae81ff>7</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>JOINED</span>    <span style=color:#f92672>=</span> <span style=color:#ae81ff>8</span> <span style=color:#75715e># User joined project</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>LEFT</span>      <span style=color:#f92672>=</span> <span style=color:#ae81ff>9</span> <span style=color:#75715e># User left project</span>
</span></span></code></pre></div><p>So, it was a problem&mldr; Here could be image with angry Cat, but we started <strong>new Events</strong> feature.</p><p>We had next requirements:</p><ul><li>Any entity in system can be Event target (entity, related to which was created event)</li><li>Any entity can be Event source (entity, which triggered event)</li><li>Ability to describe action with human like name</li><li>Store event data to future usage of them</li></ul><p>As result we have some solution:
Any entity can be target</p><p>Any Entity can be source</p><p>And rich action description (part or them):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-ruby data-lang=ruby><span style=display:flex><span>  <span style=color:#66d9ef>GENERAL</span> <span style=color:#f92672>=</span> <span style=color:#f92672>[</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:created</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:updated</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:commented</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:deleted</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:added</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:removed</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:joined</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:left</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:transfer</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>COMMENTS</span> <span style=color:#f92672>=</span> <span style=color:#f92672>[</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:commented_merge_request</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:commented_issue</span>, <span style=color:#75715e># not used in our fork</span>
</span></span><span style=display:flex><span>                      <span style=color:#75715e># because we use another issue tracker</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:commented_commit</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:commented</span>,       <span style=color:#75715e># not used after remove Project Wall</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>MERGE_REQUESTS</span> <span style=color:#f92672>=</span> <span style=color:#f92672>[</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:opened</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:closed</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:reopened</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:merged</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:assigned</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:reassigned</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:resigned</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>MASS</span> <span style=color:#f92672>=</span> <span style=color:#f92672>[</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:imported</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:members_added</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:members_updated</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:members_removed</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:teams_added</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:teams_removed</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:groups_added</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:projects_added</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>GIT</span> <span style=color:#f92672>=</span> <span style=color:#f92672>[</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:pushed</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:created_branch</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:deleted_branch</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:created_tag</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:deleted_tag</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:protected</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:unprotected</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:blocked</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>:activate</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># NOTE actions which can be parent</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>BASE</span> <span style=color:#f92672>=</span> <span style=color:#f92672>[</span>
</span></span><span style=display:flex><span>      <span style=color:#e6db74>:create</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>:update</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>:delete</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>:open</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>:close</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>:reopen</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>:merge</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>:block</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>:activate</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>]</span>
</span></span></code></pre></div><p>Event can have parent event. For example case:</p><ul><li>User pushed code to server<ul><li>After push was created note</li><li>And was closed MergeRequest</li><li>And was closed Issue</li></ul></li></ul><p>We create events for any actions in system. But save parent-child relation.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#66d9ef>Push</span> created <span style=color:#f92672>|-</span> <span style=color:#66d9ef>Event</span>(<span style=color:#e6db74>action</span>: pushed)
</span></span><span style=display:flex><span>             <span style=color:#f92672>|-</span> <span style=color:#66d9ef>Event</span>(<span style=color:#e6db74>action</span>: commented_commit)
</span></span><span style=display:flex><span>             <span style=color:#f92672>|-</span> <span style=color:#66d9ef>Event</span>(<span style=color:#e6db74>action</span>: closed) <span style=color:#75715e># for MergeRequest</span>
</span></span><span style=display:flex><span>             <span style=color:#f92672>|</span>  <span style=color:#f92672>|-</span> <span style=color:#66d9ef>Event</span>(<span style=color:#e6db74>action</span>: created) <span style=color:#75715e># Note was created</span>
</span></span><span style=display:flex><span>             <span style=color:#f92672>|</span>     <span style=color:#f92672>|-</span> <span style=color:#66d9ef>Event</span>(<span style=color:#e6db74>action</span>: commented_merge_request)
</span></span><span style=display:flex><span>             <span style=color:#f92672>|</span>
</span></span><span style=display:flex><span>             <span style=color:#f92672>|-</span> <span style=color:#66d9ef>Event</span>(<span style=color:#e6db74>action</span>: closed) <span style=color:#75715e># for Issue</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>|-</span> <span style=color:#66d9ef>Event</span>(<span style=color:#e6db74>action</span>: created) <span style=color:#75715e># Note was created</span>
</span></span><span style=display:flex><span>                   <span style=color:#f92672>|-</span> <span style=color:#66d9ef>Event</span>(<span style=color:#e6db74>action</span>: commented_issue)
</span></span></code></pre></div><p>Based on this events we can send email for different subscriptions without duplications. And we can research source of some troubles. I think it awesome! :)</p><p>After rewrite events we have:</p><ul><li>Ability detect who and what was doing in Gitlab on fuckups</li><li>Full information dashboard for Main and Project, Group, Team, User pages.</li><li>Flexible mail subscriptions with notifications</li><li>Ability to send mail digests</li></ul><h3 id=awesome-mail-notifications class="relative group">Awesome mail notifications <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#awesome-mail-notifications aria-label=Anchor>#</a></span></h3><p>I am not exaggerating. Why I wrote some header you understand later.</p><p>After rewriting events we created own mail notifications.</p><p>Our workflow:</p><ul><li>User subscribe to base entity<ul><li><strong>Project</strong></li><li><strong>Group</strong></li><li><strong>Team</strong></li><li><strong>User</strong></li></ul></li></ul><ul><li>User can edit detailed settings for any subscriptions</li></ul><ul><li>Another user do something in Gitlab</li><li>After user actions - Gitlab trigger event creating process, and we have tree of events (described above)</li><li>On created events base we create notifications for subscribers</li><li>And send mails to subscribers in async queue.</li></ul><p>At this moment we have more 100 different mails for different cases.
And can be more :)</p><p><strong>TODO</strong>: Our plans create notification page with option to show notifications or send them on email.
<strong>TODO</strong>: Add ability to subscribe on MergeRequest and Issue. Replace participants with auto subscriptions.
<strong>TODO</strong>: Add ability to create <em>ignore</em> subscriptions.</p><h3 id=new-services-logic class="relative group">New Services logic <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#new-services-logic aria-label=Anchor>#</a></span></h3><p>Gitlab has integration with different services and it&rsquo;s OK, but it implementation is ok for them, as SaaS. Why? In Gitlab code developers describe fields and logic of services. If we open project services page - Gitlab create empty records for everyone enabled in Gitlab service. For really needed service user enter some settings. Every time some similar settings user fill for different projects. It&rsquo;s so sadly&mldr; Service can only send web hooks. But, what about provide access to project code? Write comments/issue?</p><p>We rewrote services, because:</p><ul><li>For one organization it is ugly to write some configs many time while service added to different projects. We want to write config one time and enable service for different projects many time.</li><li>We want to have ability for add deploy key for service.</li><li>We want to have ability for integration of Gitlab with different other systems</li><li>etc</li></ul><p>Now:</p><ul><li>In Admin panel we add Service pattern with default values</li></ul><ul><li>We can add sha-key for service (like deploy key)</li></ul><ul><li>In Any project we can enable this service pattern (we can edit config, if it need)</li></ul><p>If you create service pattern without default settings - user must fill service settings every time. Like in upstream %).</p><h3 id=elasticsearch-as-search-engine class="relative group">Elasticsearch as search engine <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#elasticsearch-as-search-engine aria-label=Anchor>#</a></span></h3><p>What about search functionality in Gitlab?</p><p>In official Gitlab CE we can search:</p><ul><li>Projects</li><li>Groups <em>(autocomplete)</em></li><li>MergeRequests <em>(In selected project)</em></li><li>Issues <em>(In selected project)</em></li><li>Code <em>(in selected project)</em></li></ul><p>Projects, Groups, MergeRequest, Issue - <code>%like%</code> query.
Code - <code>git grep</code>&mldr;</p><p>At this moment Gitlab core team prefer PostgreSQL. So, in PostgreSQL we have good full-text search, but. We want more flexible search (sometimes user search with mistakes in query). And code search across all repositories. On this reason we replaced search with ElasticSearch.</p><p>Example of results:</p><p>We can search in different entities:</p><p>We can search code across different repositories (as you can see - we can search filter search with different <em>Language</em>)</p><p>Resume: At this moment search available in:</p><ul><li>Project<ul><li>Name</li><li>Path</li><li>NamespaceName</li><li>Description</li></ul></li><li>Group<ul><li>Name</li><li>Path</li><li>Description</li></ul></li><li>User<ul><li>Username</li><li>Name</li><li>etc (if you want)</li></ul></li><li>Team<ul><li>Name</li><li>Path</li><li>Description</li></ul></li><li>MergeRequest<ul><li>Tilte</li><li>Descriptions</li></ul></li><li>Issue<ul><li>Title</li><li>Descriptions</li></ul></li><li>Code across all repositories<ul><li>Files by content</li><li>Files by file-path and file-name</li></ul></li><li>Commits across all repositories<ul><li>Commit author name, email</li><li>Commiter name, email</li><li>Commit message</li><li>commit sha</li></ul></li></ul><p>For integration with ElasticSearch I wrote <a href=https://github.com/zzet/elasticsearch-git target=_blank rel=noreferrer>gem</a>. I tried save interface, but it is impossible without code rewrite. We have plans to create PR into official repository, but not in the fast time.</p><h3 id=jenkins-integration class="relative group">Jenkins integration <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#jenkins-integration aria-label=Anchor>#</a></span></h3><p>So historically, that our company uses Jenkins. And we started research, how we can integrate Gitlab with Jenkins.</p><p>We found <a href=https://wiki.jenkins-ci.org/display/JENKINS/Gitlab+Hook+Plugin target=_blank rel=noreferrer>Gitlab Hook plugin</a>.</p><p>Ok. Jenkins + plugin -> Gitlab&mldr;</p><p>Ok. A lot of projects&mldr;. Huge count of MergeRequests&mldr; As result we get fulltime pulling. How do you think that happened in the end? Yes. Gitlab is Die. Sadly.</p><p>We wrote <a href=https://github.com/alsor/gitlab-mergerequest-builder target=_blank rel=noreferrer>own plugin</a> for Jenkins. Thanks to <a href=https://github.com/alsor target=_blank rel=noreferrer>Alexey Sorokin</a>.</p><p>How it work now:</p><pre tabindex=0><code>-&gt; User pushed code
   |- Gitlab run services hooks
     |- Gitlab service select data and send them to Jenkins
       |- Jenkins run build and after them send build data JSON to Gitlab
         |- Gitlab parse data and show them in Web UI.
</code></pre><p>As result we know - which push broke code and can fix them in short time.</p><p>And such results in Merge Requests :)</p><h3 id=favorited-projects-entities class="relative group">Favorited projects (entities) <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#favorited-projects-entities aria-label=Anchor>#</a></span></h3><p>Many developers are involved in many projects. Find some of the projects is difficult. Necessary to use the search. This extra step and inconvenience. We decided to somehow identify projects in which the user is currently involved, or watched over. Result of brainstorm - we started <strong>Favorited projects</strong> feature.</p><p>User can add project in Feature list.</p><p>When user added project to this list - marked projects rendered in top of projects in dashboard sidebar:</p><p>And user can filter dashboard events feed. Show events for only favorited projects.</p><p>List of favorited projects can be edited in profile section.</p><p>And all this features available for Group, Teams and Users.</p><h3 id=more-performance-with-websockets class="relative group">More performance with websockets <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#more-performance-with-websockets aria-label=Anchor>#</a></span></h3><p>We replaces pulling for new notes in Merge Request, Commits and Issues with websockets. PR <a href=https://github.com/gitlabhq/gitlabhq/pull/6822 target=_blank rel=noreferrer>here</a>.</p><h3 id=access-to-files-via-token class="relative group">Access to files via token <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#access-to-files-via-token aria-label=Anchor>#</a></span></h3><h3 id=git-protocol-support class="relative group">Git protocol support <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#git-protocol-support aria-label=Anchor>#</a></span></h3><h2 id=architecture-changes class="relative group">Architecture changes <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#architecture-changes aria-label=Anchor>#</a></span></h2><p>Users:</p><ul><li>Git<ul><li>Run application</li><li>Work with code</li></ul></li><li>Gitlab<ul><li>Deploy application</li></ul></li></ul><pre tabindex=0><code>.
├── some_git_home_path
│   └── git
│        ├── .ssh
│        ├── gitlab-shell # symlink to /some/apps_path/gitlab-shell/current
│        ├── ...
│        └── repositories
├── some
│   └── apps_path
│         ├── gitlab
│         │    ├── releases
│         │    │    ├── release_1
│         │    │    ├── release_2
│         │    │    ├── release_3
│         │    │    ├── release_4
│         │    │    └── release_5 # here only code
│         │    ├── shared
│         │    │    ├── bin
│         │    │    ├── bundle
│         │    │    ├── cache
│         │    │    ├── gitlab-satellites
│         │    │    ├── log
│         │    │    ├── pids
│         │    │    ├── public
│         │    │    ├── .secret
│         │    │    ├── system
│         │    │    ├── tmp
│         │    │    └── uploads
│         │    └── current # symlink to last release
│         └──  gitlab-shell
│              ├── releases
│              │    ├── release_1
│              │    ├── release_2
│              │    ├── release_3
│              │    ├── release_4
│              │    └── release_5
│              └── current # symlink to last release
└── some_services_path
     ├── gitlab-resque-main
     ├── gitlab-resque-gitlab-shell
     ├── gitlab-resque-main
     ├── gitlab-resque-elasticsearch
     ├── gitlab-web-unicorn
     ├── gitlab-web-unicorn-api
     ├── gitlab-web-faye
     └── etc
</code></pre><h3 id=deploy-via-capistrano class="relative group">Deploy via capistrano <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#deploy-via-capistrano aria-label=Anchor>#</a></span></h3><h2 id=related-links class="relative group">Related links <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#related-links aria-label=Anchor>#</a></span></h2><p><a href=https://github.com/Undev/gitlabhq target=_blank rel=noreferrer>Fork address (Undev/gitlabhq)</a></p><p><a href=https://github.com/zzet/gitlab-shell target=_blank rel=noreferrer>Gitlab-shell fork for git protocol ability</a></p><p><a href=https://github.com/zzet/gitlab-wvm target=_blank rel=noreferrer>Our vagrant vw for development</a></p><p><a href=https://github.com/zzet/elasticsearch-git target=_blank rel=noreferrer>Elasticsearch-git gem for Integration with ElasticSearch</a></p></div></section><footer class="max-w-prose pt-8 print:hidden"><div class=flex><picture class="!mb-0 !mt-0 me-4 w-24 h-auto rounded-full"><img width=2816 height=2995 class="!mb-0 !mt-0 me-4 w-24 h-auto rounded-full" alt="Andrey Kumanyaev" loading=lazy decoding=async src=https://zzet.org/img/kdauthor_hu_13d4b4a298916f43.jpeg srcset="https://zzet.org/img/kdauthor_hu_b89a404c63c2cc41.jpeg 330w,https://zzet.org/img/kdauthor_hu_13d4b4a298916f43.jpeg 660w
,https://zzet.org/img/kdauthor_hu_8e13899a507bb0aa.jpeg 1024w
,https://zzet.org/img/kdauthor_hu_8fbcf5b3caf8d913.jpeg 1320w" sizes=100vw></picture><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">Author</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">Andrey Kumanyaev</div><div class="text-sm text-neutral-700 dark:text-neutral-400">Senior Engineering Manager @ Vio.com | Leading & Building High-Performance Teams & Scaling High-Load Platforms | Golang, ML, AWS, passionate about Rust</div><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=https://github.com/zzet target=_blank aria-label=Github rel="me noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span></a><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=https://x.com/zzetorg target=_blank aria-label=X-Twitter rel="me noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg>
</span></a><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=https://www.reddit.com/user/zzet/ target=_blank aria-label=Reddit rel="me noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M201.5 305.5c-13.8.0-24.9-11.1-24.9-24.6.0-13.8 11.1-24.9 24.9-24.9 13.6.0 24.6 11.1 24.6 24.9.0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4.0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8.0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7.0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9.0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5.0 52.6 59.2 95.2 132 95.2 73.1.0 132.3-42.6 132.3-95.2.0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6.0-2.2-2.2-6.1-2.2-8.3.0-2.5 2.5-2.5 6.4.0 8.6 22.8 22.8 87.3 22.8 110.2.0 2.5-2.2 2.5-6.1.0-8.6-2.2-2.2-6.1-2.2-8.3.0zm7.7-75c-13.6.0-24.6 11.1-24.6 24.9.0 13.6 11.1 24.6 24.6 24.6 13.8.0 24.9-11.1 24.9-24.6.0-13.8-11-24.9-24.9-24.9z"/></svg>
</span></a><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=https://www.linkedin.com/in/andrey-kumanyaev/ target=_blank aria-label=Linkedin rel="me noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg></span></a></div></div></div></div><section class="flex flex-row flex-wrap justify-center pt-4 text-xl"><a class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://www.facebook.com/sharer/sharer.php?u=https://zzet.org/archive/2014-09-29-undev_gitlab_fork/&amp;quote=About%20Undev%20Gitlab%20fork" title="Share on Facebook" aria-label="Share on Facebook" target=_blank rel="noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14.0 55.52 4.84 55.52 4.84v61h-31.28c-30.8.0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>
</span></a><a class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://x.com/intent/tweet/?url=https://zzet.org/archive/2014-09-29-undev_gitlab_fork/&amp;text=About%20Undev%20Gitlab%20fork" title="Post on X" aria-label="Post on X" target=_blank rel="noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg>
</span></a><a class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://tootpick.org/#text=https://zzet.org/archive/2014-09-29-undev_gitlab_fork/%20About%20Undev%20Gitlab%20fork" title="Toot on Mastodon" aria-label="Toot on Mastodon" target=_blank rel="noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48.0.0.0-63.72 28.5-63.72 125.7.0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54.0 01-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg>
</span></a><a class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://reddit.com/submit/?url=https://zzet.org/archive/2014-09-29-undev_gitlab_fork/&amp;resubmit=true&amp;title=About%20Undev%20Gitlab%20fork" title="Submit to Reddit" aria-label="Submit to Reddit" target=_blank rel="noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M201.5 305.5c-13.8.0-24.9-11.1-24.9-24.6.0-13.8 11.1-24.9 24.9-24.9 13.6.0 24.6 11.1 24.6 24.9.0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4.0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8.0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7.0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9.0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5.0 52.6 59.2 95.2 132 95.2 73.1.0 132.3-42.6 132.3-95.2.0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6.0-2.2-2.2-6.1-2.2-8.3.0-2.5 2.5-2.5 6.4.0 8.6 22.8 22.8 87.3 22.8 110.2.0 2.5-2.2 2.5-6.1.0-8.6-2.2-2.2-6.1-2.2-8.3.0zm7.7-75c-13.6.0-24.6 11.1-24.6 24.9.0 13.6 11.1 24.6 24.6 24.6 13.8.0 24.9-11.1 24.9-24.6.0-13.8-11-24.9-24.9-24.9z"/></svg>
</span></a><a class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://zzet.org/archive/2014-09-29-undev_gitlab_fork/&amp;title=About%20Undev%20Gitlab%20fork" title="Share on LinkedIn" aria-label="Share on LinkedIn" target=_blank rel="noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg>
</span></a><a class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="mailto:?body=https://zzet.org/archive/2014-09-29-undev_gitlab_fork/&amp;subject=About%20Undev%20Gitlab%20fork" title="Send via email" aria-label="Send via email" target=_blank rel="noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1-27.64 140.9 68.65 266.2 199.1 285.1 19.01 2.888 36.17-12.26 36.17-31.49l1e-4-.6631c0-15.74-11.44-28.88-26.84-31.24-84.35-12.98-149.2-86.13-149.2-174.2.0-102.9 88.61-185.5 193.4-175.4 91.54 8.869 158.6 91.25 158.6 183.2v16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98.0036c-7.299.0-13.2 4.992-15.12 11.68-24.85-12.15-54.24-16.38-86.06-5.106-38.75 13.73-68.12 48.91-73.72 89.64-9.483 69.01 43.81 128 110.9 128 26.44.0 50.43-9.544 69.59-24.88 24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3c0-149.2-133.9-265.632-287.3-235.57zM239.1 304.3c-26.47.0-48-21.56-48-48.05s21.53-48.05 48-48.05 48 21.56 48 48.05-20.6 48.05-48 48.05z"/></svg>
</span></a><a class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://www.threads.net/intent/post?text=https://zzet.org/archive/2014-09-29-undev_gitlab_fork/%20About%20Undev%20Gitlab%20fork" title="Post on Threads" aria-label="Post on Threads" target=_blank rel="noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M331.5 235.7c2.2.9 4.2 1.9 6.3 2.8 29.2 14.1 50.6 35.2 61.8 61.4 15.7 36.5 17.2 95.8-30.3 143.2-36.2 36.2-80.3 52.5-142.6 53h-.3c-70.2-.5-124.1-24.1-160.4-70.2-32.3-41-48.9-98.1-49.5-169.6V256v-.2C17 184.3 33.6 127.2 65.9 86.2 102.2 40.1 156.2 16.5 226.4 16h.3c70.3.5 124.9 24 162.3 69.9 18.4 22.7 32 50 40.6 81.7l-40.4 10.8c-7.1-25.8-17.8-47.8-32.2-65.4-29.2-35.8-73-54.2-130.5-54.6-57 .5-100.1 18.8-128.2 54.4C72.1 146.1 58.5 194.3 58 256c.5 61.7 14.1 109.9 40.3 143.3 28 35.6 71.2 53.9 128.2 54.4 51.4-.4 85.4-12.6 113.7-40.9 32.3-32.2 31.7-71.8 21.4-95.9-6.1-14.2-17.1-26-31.9-34.9-3.7 26.9-11.8 48.3-24.7 64.8-17.1 21.8-41.4 33.6-72.7 35.3-23.6 1.3-46.3-4.4-63.9-16-20.8-13.8-33-34.8-34.3-59.3-2.5-48.3 35.7-83 95.2-86.4 21.1-1.2 40.9-.3 59.2 2.8-2.4-14.8-7.3-26.6-14.6-35.2-10-11.7-25.6-17.7-46.2-17.8H227c-16.6.0-39 4.6-53.3 26.3l-34.4-23.6c19.2-29.1 50.3-45.1 87.8-45.1h.8c62.6.4 99.9 39.5 103.7 107.7l-.2.2zm-156 68.8c1.3 25.1 28.4 36.8 54.6 35.3 25.6-1.4 54.6-11.4 59.5-73.2-13.2-2.9-27.8-4.4-43.4-4.4-4.8.0-9.6.1-14.4.4-42.9 2.4-57.2 23.2-56.2 41.8l-.1.1z"/></svg>
</span></a><a class="m-1 inline-block min-w-[2.4rem] rounded bg-neutral-300 p-1 text-center text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://telegram.me/share/url?text=https://zzet.org/archive/2014-09-29-undev_gitlab_fork/&amp;url=About%20Undev%20Gitlab%20fork" title="Share on Telegram" aria-label="Share on Telegram" target=_blank rel="noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M248 8C111.033 8 0 119.033.0 256S111.033 504 248 504 496 392.967 496 256 384.967 8 248 8zM362.952 176.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.452 10.452.0 013.53 6.716A43.765 43.765.0 01362.952 176.66z"/></svg></span></a></section></footer></article></main><div class="pointer-events-none absolute bottom-0 end-0 top-[100vh] w-12" id=to-top hidden=true><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div><footer class="py-10 print:hidden"><nav class="pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400"><ul class="flex list-none flex-col sm:flex-row"><li class="group mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0"><a href=/archive/ title><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">Archive</span></a></li></ul></nav><div class="flex items-center justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2026
Andrey Kumanyaev</p><p class="text-xs text-neutral-500 dark:text-neutral-400">Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://github.com/jpanther/congo target=_blank rel="noopener noreferrer">Congo</a></p></div><div class="flex flex-row items-center"></div></div></footer></div></body></html>